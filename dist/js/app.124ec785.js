(function(t){function e(e){for(var c,o,i=e[0],s=e[1],l=e[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],c=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(c=!1)}c&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var c={},r={app:0},n=[];function o(e){if(c[e])return c[e].exports;var a=c[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=c,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)o.d(a,c,function(e){return t[e]}.bind(null,c));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/hex-week7/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=s;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"33e5":function(t,e,a){t.exports=a.p+"img/front.a4a997c1.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var c=a("7a23"),r=a("7bb1"),n=a("3aa8"),o=a("cbdf"),i=a("9457");function s(t,e,a,r,n,o){var i=Object(c["x"])("router-view");return Object(c["s"])(),Object(c["d"])("div",null,[Object(c["g"])(i)])}var l={data:function(){return{apiInfo:{apiPath:"https://vue3-course-api.hexschool.io",apiName:"bustour"}}},provide:function(){return{apiInfo:this.apiInfo}}};l.render=s;var d=l,u=a("6c02"),p={class:"box-border"},b={class:"flex flex-row px-6 justify-between\n      container max-w-4xl lg:max-w-6xl mx-auto mt-6 mb-6 items-center"},g={id:"nav",class:"flex flex-row"},m=Object(c["f"])("Home"),O=Object(c["f"])(" Item"),j=Object(c["f"])(" Blog"),f=Object(c["f"])(" Cart"),h={class:"container max-w-4xl lg:max-w-6xl mx-auto p-6 flex justify-center"},v=Object(c["g"])("small",{class:"p-1"},"Copyright © 2021",-1),x=Object(c["f"])(" | "),y={class:"p-1"},P=Object(c["f"])("Admin");function w(t,e){var r=Object(c["x"])("router-link"),n=Object(c["x"])("router-view");return Object(c["s"])(),Object(c["d"])("div",p,[Object(c["g"])("nav",b,[Object(c["g"])("div",null,[Object(c["g"])(r,{to:{name:"Index"}},{default:Object(c["G"])((function(){return[Object(c["g"])("img",{alt:"Princess Cupcakes",src:a("cf05"),class:"w-20"},null,8,["src"])]})),_:1})]),Object(c["g"])("div",g,[Object(c["g"])(r,{to:{name:"Index"},class:"p-4 text-lg border-l-2 border-r-2\n          hover:text-yellow-900 hover:bg-gray-50"},{default:Object(c["G"])((function(){return[m]})),_:1}),Object(c["g"])(r,{to:{name:"Products"},class:"p-4 text-lg border-r-2\n          hover:text-yellow-900 hover:bg-gray-50"},{default:Object(c["G"])((function(){return[O]})),_:1}),Object(c["g"])(r,{to:{name:"Blog"},class:"p-4 text-lg border-r-2\n          hover:text-yellow-900 hover:bg-gray-50"},{default:Object(c["G"])((function(){return[j]})),_:1}),Object(c["g"])(r,{to:{name:"Cart"},class:"p-4 text-lg border-r-2\n          hover:text-yellow-900 hover:bg-gray-50"},{default:Object(c["G"])((function(){return[f]})),_:1})])]),Object(c["g"])("div",null,[Object(c["g"])(n)]),Object(c["g"])("footer",null,[Object(c["g"])("div",h,[v,x,Object(c["g"])("small",y,[Object(c["g"])(r,{to:{name:"Login"}},{default:Object(c["G"])((function(){return[P]})),_:1})])])])])}const _={};_.render=w;var M=_,k=Object(c["g"])("div",{class:"container max-w-4xl lg:max-w-6xl mx-auto\n    flex flex-col px-6 justify-center"},[Object(c["g"])("h1",{class:"font-extrabold text-center text-xl mb-6 text-gray-800"},"About Us"),Object(c["g"])("div",{class:"text-md text-gray-800"},[Object(c["g"])("p",null," The new brand identity is inspired by work of Gustav Klimt and the Vienna Secession. In particular, the use of strong and repeating geometric shapes provided a strong basis for a unique identity system for Vienna Patisserie. "),Object(c["g"])("br"),Object(c["g"])("p",null," A simple, yet intricate pattern not only forms the brandmark but a highly flexible and powerful visual language with a strong nod to Vienna but also the brand’s home in Melbourne. "),Object(c["g"])("br"),Object(c["g"])("p",null," A striking and rich colour palette of gold, black, white and dark browns enable the brand to be dialled up for more premium gifts such as cake boxes, instore graphics and signage, or paired back to provide understated yet practical bags for breads and pastries. "),Object(c["g"])("br"),Object(c["g"])("p",null," Vienna Patisserie has two stores in Melbourne’s eastern suburbs with plans for more stores in the future. Their current stores are located at Maling Road Canterbury and High Street Kew East. "),Object(c["g"])("br"),Object(c["g"])("p",null," Find out more about Vienna Patisserie here. ")])],-1);function I(t,e){return Object(c["s"])(),Object(c["d"])(c["a"],null,[Object(c["g"])("img",{alt:"Princess Cupcakes",src:a("33e5"),class:"w-full mb-10"},null,8,["src"]),k],64)}const A={};A.render=I;var U=A,C=(a("a4d3"),a("e01a"),Object(c["g"])("div",{class:"bg-gray-100 p-6 text-xl text-gray-500"},[Object(c["g"])("div",{class:"container max-w-4xl lg:max-w-6xl mx-auto"}," Product List ")],-1)),N={class:"container max-w-4xl lg:max-w-6xl mx-auto mt-6 mb-6\n    grid grid-cols-2 lg:grid-cols-3"},S={class:"font-bold"},$={class:"mb-4"},E={class:"line-through text-gray-500 mr-2"};function V(t,e,a,r,n,o){var i=Object(c["x"])("router-link");return Object(c["s"])(),Object(c["d"])(c["a"],null,[C,Object(c["g"])("div",N,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(n.products,(function(t){return Object(c["s"])(),Object(c["d"])("div",{class:"border p-6",key:t.id},[Object(c["g"])(i,{to:{name:"Product",params:{id:"".concat(t.id)}}},{default:Object(c["G"])((function(){return[Object(c["g"])("img",{src:t.imageUrl,alt:"",class:"w-auto mb-4"},null,8,["src"]),Object(c["g"])("div",S,Object(c["A"])(t.title),1),Object(c["g"])("div",$,Object(c["A"])(t.description),1),Object(c["g"])("div",null,[Object(c["g"])("span",E,Object(c["A"])(n.currency)+Object(c["A"])(t.origin_price),1),Object(c["f"])(" "+Object(c["A"])(n.currency)+Object(c["A"])(t.price),1)])]})),_:2},1032,["to"])])})),128))])],64)}a("99af");var q=a("bc3a"),G=a.n(q),D={data:function(){return{products:[],currency:"¥"}},inject:["apiInfo"],methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;G.a.get("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/products?page=").concat(e)).then((function(e){e.data.success?(console.log(e.data.products),t.products=e.data.products):console.log(e.data)})).catch((function(t){console.log(t)}))}},created:function(){this.getProducts()}};D.render=V;var H=D,L=Object(c["g"])("div",{class:"bg-gray-100 p-6 text-xl text-gray-500"},[Object(c["g"])("div",{class:"container max-w-4xl lg:max-w-6xl mx-auto"}," Product ")],-1),T={class:"container max-w-4xl lg:max-w-6xl mx-auto mt-6 mb-6"},B={class:"text-2xl py-10 text-gray-700"},z={class:"grid grid-cols-3"},F={class:"col-span-2 pr-10 text-gray-700"},J={class:"bg-gray-100 text-gray-700 py-10 px-20"},K={class:"mb-2"},Q=Object(c["g"])("span",{class:"mr-2"}," Price ",-1),R={class:"text-red-600 font-bold"},W={class:"mb-2"},X=Object(c["g"])("span",{class:"mr-2"}," Qty ",-1);function Y(t,e,a,r,n,o){return Object(c["s"])(),Object(c["d"])(c["a"],null,[L,Object(c["g"])("div",T,[Object(c["g"])("div",B,Object(c["A"])(n.product.title),1),Object(c["g"])("img",{src:n.product.imageUrl,alt:"",class:"w-auto mb-10"},null,8,["src"]),Object(c["g"])("div",z,[Object(c["g"])("div",F,Object(c["A"])(n.product.content),1),Object(c["g"])("div",J,[Object(c["g"])("div",K,[Q,Object(c["g"])("span",R,Object(c["A"])(n.currency)+Object(c["A"])(n.product.price),1)]),Object(c["g"])("div",W,[X,Object(c["H"])(Object(c["g"])("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.qty=t}),class:"border w-10 p-1 mb-4"},null,512),[[c["D"],n.qty,void 0,{number:!0}]])]),Object(c["g"])("button",{class:"border p-2 bg-white hover:bg-gray-50",onClick:e[2]||(e[2]=function(t){return o.addCart(n.product.id,n.qty)})},"add to cart")])])])],64)}var Z={data:function(){return{product:{},currency:"¥",qty:1}},inject:["apiInfo"],methods:{getProduct:function(t){var e=this;G.a.get("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/product/").concat(t)).then((function(t){t.data.success?(console.log(t.data.product),e.product=t.data.product):console.log(t.data)})).catch((function(t){console.log(t)}))},addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a={product_id:t,qty:e};console.log(a),G.a.post("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/cart"),{data:a}).then((function(t){t.data.success?(alert(t.data.message),console.log(t.data)):(console.log(t.data),alert(t.data.message))})).catch((function(t){console.log(t)}))}},created:function(){console.log(this.$route.params);var t=this.$route.params.id;this.getProduct(t)}};Z.render=Y;var tt=Z,et=Object(c["g"])("div",{class:"bg-gray-100 p-6 text-xl text-gray-500"},[Object(c["g"])("div",{class:"container max-w-4xl lg:max-w-6xl mx-auto"}," Shopping Cart ")],-1),at={class:"container max-w-4xl lg:max-w-6xl mx-auto mt-6 mb-6"},ct={class:"mx-auto mb-2"},rt=Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[Object(c["g"])("th",{class:"pr-2"},"Product"),Object(c["g"])("th",{class:"pr-2"},"Qty"),Object(c["g"])("th",{class:"pr-2"},"Sub Total"),Object(c["g"])("th")])],-1),nt={class:"pr-2"},ot={class:"pr-2"},it={class:"pr-2"},st={key:0,class:"border-t-2 pt-2"},lt={class:"flex flex-row justify-end p-6"},dt={class:"mr-2"},ut={class:"px-6"},pt=Object(c["f"])("Next Step");function bt(t,e,a,r,n,o){var i=Object(c["x"])("router-link");return Object(c["s"])(),Object(c["d"])(c["a"],null,[et,Object(c["g"])("div",at,[Object(c["g"])("div",null,[Object(c["g"])("table",ct,[rt,Object(c["g"])("tbody",null,[n.cart.carts?(Object(c["s"])(!0),Object(c["d"])(c["a"],{key:0},Object(c["w"])(n.cart.carts,(function(t){return Object(c["s"])(),Object(c["d"])("tr",{key:t.id},[Object(c["g"])("td",nt,Object(c["A"])(t.product.title),1),Object(c["g"])("td",ot,[Object(c["H"])(Object(c["g"])("input",{class:"w-20",type:"number",min:"1","onUpdate:modelValue":function(e){return t.qty=e},onChange:function(e){return o.updateCart(t)}},null,40,["onUpdate:modelValue","onChange"]),[[c["D"],t.qty,void 0,{number:!0}]])]),Object(c["g"])("td",it,Object(c["A"])(t.total),1),Object(c["g"])("td",null,[Object(c["g"])("button",{type:"button",class:"border p-1",onClick:function(e){return o.deleteOne(t)}},"Delete",8,["onClick"])])])})),128)):Object(c["e"])("",!0)])]),0!==n.cart.total?(Object(c["s"])(),Object(c["d"])("div",st,[Object(c["g"])("div",lt,[Object(c["g"])("div",dt," Total: "+Object(c["A"])(n.cart.final_total),1),Object(c["g"])("div",null,[Object(c["g"])("button",{type:"button",class:"border p-1",onClick:e[1]||(e[1]=function(){return o.deleteAll&&o.deleteAll.apply(o,arguments)})},"Clear Cart")])]),Object(c["g"])("div",ut,[Object(c["g"])(i,{to:{name:"DeliveryInfo"},class:"border p-1"},{default:Object(c["G"])((function(){return[pt]})),_:1})])])):Object(c["e"])("",!0)])])],64)}var gt={data:function(){return{cart:{},products:[],currency:"¥"}},inject:["apiInfo"],methods:{getCart:function(){var t=this;G.a.get("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/cart")).then((function(e){e.data.success?(t.cart=e.data.data,console.log(t.cart)):console.log(e.data)})).catch((function(t){console.log(t)}))},updateCart:function(t){var e=this,a={product_id:t.product.id,qty:t.qty};G.a.put("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/cart/").concat(t.id),{data:a}).then((function(t){t.data.success?(console.log(t.data),e.getCart()):console.log(t.data)})).catch((function(t){console.log(t)}))},deleteOne:function(t){var e=this;G.a.delete("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/cart/").concat(t.id)).then((function(t){t.data.success?(console.log(t.data),alert(t.data.message),e.getCart()):console.log(t.data)})).catch((function(t){console.log(t)}))},deleteAll:function(){var t=this;G.a.delete("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/carts")).then((function(e){e.data.success?(console.log(e.data),alert(e.data.message),t.getCart()):console.log(e.data)})).catch((function(t){console.log(t)}))}},created:function(){this.getCart()}};gt.render=bt;var mt=gt,Ot=(a("b0c0"),Object(c["g"])("div",{class:"bg-gray-100 p-6 text-xl text-gray-500"},[Object(c["g"])("div",{class:"container max-w-4xl lg:max-w-6xl mx-auto"}," Delivery Information ")],-1)),jt={class:"container max-w-4xl lg:max-w-6xl mx-auto"},ft={class:"my-5 flex flex-row justify-content-center"},ht={class:"mb-3"},vt=Object(c["g"])("label",{for:"email",class:"form-label"},"Email",-1),xt={class:"mb-3"},yt=Object(c["g"])("label",{for:"name",class:"form-label"},"Receiver Name",-1),Pt={class:"mb-3"},wt=Object(c["g"])("label",{for:"tel",class:"form-label"},"收件人電話",-1),_t={class:"mb-3"},Mt=Object(c["g"])("label",{for:"address",class:"form-label"},"收件人地址",-1),kt={class:"mb-3"},It=Object(c["g"])("label",{for:"message",class:"form-label"},"留言",-1),At=Object(c["g"])("div",{class:"text-end"},[Object(c["g"])("button",{type:"submit",class:"btn btn-danger"},"建立訂單")],-1);function Ut(t,e,a,r,n,o){var i=Object(c["x"])("Field"),s=Object(c["x"])("error-message"),l=Object(c["x"])("Form");return Object(c["s"])(),Object(c["d"])(c["a"],null,[Ot,Object(c["g"])("div",jt,[Object(c["g"])("div",ft,[Object(c["g"])(l,{class:"col-md-6",onSubmit:o.createOrder},{default:Object(c["G"])((function(t){var a=t.errors;return[Object(c["g"])("div",ht,[vt,Object(c["g"])(i,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":a["email"]}],placeholder:"Please enter Email",rules:"email|required",modelValue:n.form.user.email,"onUpdate:modelValue":e[1]||(e[1]=function(t){return n.form.user.email=t})},null,8,["class","modelValue"]),Object(c["g"])(s,{name:"email",class:"invalid-feedback"})]),Object(c["g"])("div",xt,[yt,Object(c["g"])(i,{id:"name",name:"name",type:"text",class:["form-control",{"is-invalid":a["name"]}],placeholder:"Please enter receiver name",rules:"required",modelValue:n.form.user.name,"onUpdate:modelValue":e[2]||(e[2]=function(t){return n.form.user.name=t})},null,8,["class","modelValue"]),Object(c["g"])(s,{name:"name",class:"invalid-feedback"})]),Object(c["g"])("div",Pt,[wt,Object(c["g"])(i,{id:"tel",name:"電話",type:"text",class:["form-control",{"is-invalid":a["電話"]}],placeholder:"請輸入電話",rules:"required",modelValue:n.form.user.tel,"onUpdate:modelValue":e[3]||(e[3]=function(t){return n.form.user.tel=t})},null,8,["class","modelValue"]),Object(c["g"])(s,{name:"電話",class:"invalid-feedback"})]),Object(c["g"])("div",_t,[Mt,Object(c["g"])(i,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":a["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:n.form.user.address,"onUpdate:modelValue":e[4]||(e[4]=function(t){return n.form.user.address=t})},null,8,["class","modelValue"]),Object(c["g"])(s,{name:"地址",class:"invalid-feedback"})]),Object(c["g"])("div",kt,[It,Object(c["H"])(Object(c["g"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[5]||(e[5]=function(t){return n.form.message=t})},null,512),[[c["D"],n.form.message]])]),At]})),_:1},8,["onSubmit"])])])],64)}var Ct=a("5530"),Nt={data:function(){return{form:{user:{}}}},inject:["apiInfo"],methods:{createOrder:function(){var t=this,e=Object(Ct["a"])({},this.form);G.a.post("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/order"),{data:e}).then((function(e){e.data.success?(console.log(e.data),alert(e.data.message),t.$router.push({name:"Order",params:{id:e.data.orderId}})):console.log(e.data)})).catch((function(t){console.log(t)}))}}};Nt.render=Ut;var St=Nt,$t={class:"container mx-auto "};function Et(t,e,a,r,n,o){return Object(c["s"])(),Object(c["d"])("div",$t,[Object(c["f"])(Object(c["A"])(n.order)+" ",1),Object(c["g"])("div",null,[Object(c["g"])("div",null,"status: "+Object(c["A"])(n.order.is_paid),1),Object(c["g"])("div",null,"price:"+Object(c["A"])(n.order.total),1)]),Object(c["g"])("div",null,[Object(c["g"])("button",{class:"border",onClick:e[1]||(e[1]=function(t){return o.completePayment(n.order.id)})},"Paid")])])}var Vt={data:function(){return{order:{}}},inject:["apiInfo"],methods:{getOrder:function(t){var e=this;G.a.get("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/order/").concat(t)).then((function(t){t.data.success?(console.log(t.data),e.order=t.data.order):console.log(t.data)})).catch((function(t){console.log(t)}))},completePayment:function(t){var e=this;G.a.post("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/pay/").concat(t)).then((function(t){t.data.success?(console.log(t.data),e.$router.push({name:"OrderComplete"})):console.log(t.data)})).catch((function(t){console.log(t)}))}},created:function(){console.log(this.$route.params);var t=this.$route.params.id;this.getOrder(t)}};Vt.render=Et;var qt=Vt,Gt={class:"container mx-auto"},Dt=Object(c["g"])("div",null,"已成功付款",-1),Ht=Object(c["f"])("首頁");function Lt(t,e){var a=Object(c["x"])("router-link");return Object(c["s"])(),Object(c["d"])("div",Gt,[Dt,Object(c["g"])("div",null,[Object(c["g"])(a,{to:{name:"Home"},class:"border p-1 "},{default:Object(c["G"])((function(){return[Ht]})),_:1})])])}const Tt={};Tt.render=Lt;var Bt=Tt,zt=Object(c["g"])("div",{class:"bg-gray-100 p-6 text-xl text-gray-500 mb-4"}," Blog ",-1),Ft=Object(c["g"])("div",null," This is blog ",-1);function Jt(t,e){return Object(c["s"])(),Object(c["d"])(c["a"],null,[zt,Ft],64)}const Kt={};Kt.render=Jt;var Qt=Kt,Rt={class:"container max-w-4xl lg:max-w-6xl mx-auto p-6 flex justify-center"},Wt={id:"login"},Xt={key:0,class:"error-msg text-center mb-2"},Yt={class:"flex flex-row justify-center"},Zt=Object(c["g"])("h1",{class:"text-xl"},"後台登入",-1),te={class:"mb-2"},ee=Object(c["g"])("label",{for:"inputEmail",class:"sr-only"},"Email address",-1),ae={class:"mb-2"},ce=Object(c["g"])("label",{for:"inputPassword",class:"sr-only"},"Password",-1),re={class:""};function ne(t,e,a,r,n,o){return Object(c["s"])(),Object(c["d"])("div",Rt,[Object(c["g"])("div",Wt,[n.errMsg?(Object(c["s"])(),Object(c["d"])("div",Xt,Object(c["A"])(n.errMsg),1)):Object(c["e"])("",!0),Object(c["g"])("form",Yt,[Object(c["g"])("div",null,[Zt,Object(c["g"])("div",te,[ee,Object(c["H"])(Object(c["g"])("input",{type:"email",id:"inputEmail",class:"p-2 border",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.logginUser.username=t})},null,512),[[c["D"],n.logginUser.username]])]),Object(c["g"])("div",ae,[ce,Object(c["H"])(Object(c["g"])("input",{type:"password",id:"inputPassword",class:"p-2 border",placeholder:"Password",required:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return n.logginUser.password=t})},null,512),[[c["D"],n.logginUser.password]])]),Object(c["g"])("div",re,[Object(c["g"])("button",{class:"border px-6",type:"button",onClick:e[3]||(e[3]=function(){return o.authLogin&&o.authLogin.apply(o,arguments)})},"登入")])])])])])}var oe={data:function(){return{logginUser:{username:"",password:""},errMsg:""}},inject:["apiInfo"],methods:{authLogin:function(){var t=this;console.log("authloggin",this.logginUser),G.a.post("".concat(this.apiInfo.apiPath,"/admin/signin"),this.logginUser).then((function(e){e.data.success&&(document.cookie="OnlineBusTour=".concat(e.data.token,"; expires=").concat(new Date(e.data.expired)),t.errMsg="",t.$router.push({name:"AdminProduct"}),console.log("login success")),e.data.success||(t.errMsg=e.data.message,console.log(e.data.message),t.$router.push({name:"Login"}))})).catch((function(t){console.log(t.response.data)}))}}};oe.render=ne;var ie=oe,se={class:"box-border"},le={class:"flex flex-row px-6 justify-between\n      container max-w-4xl lg:max-w-6xl mx-auto mt-6 mb-6 items-center"},de=Object(c["g"])("div",null," Backend Management ",-1),ue=Object(c["f"])(" Product"),pe=Object(c["f"])(" Order"),be={class:"container max-w-4xl lg:max-w-6xl mx-auto p-6 flex justify-center"},ge=Object(c["g"])("small",{class:"p-1"},"Copyright © 2021",-1),me=Object(c["f"])(" | "),Oe={class:"p-1"},je=Object(c["f"])("Home"),fe=Object(c["f"])(" | "),he={class:"p-1"};function ve(t,e,a,r,n,o){var i=Object(c["x"])("router-link"),s=Object(c["x"])("router-view");return Object(c["s"])(),Object(c["d"])("div",se,[Object(c["g"])("nav",le,[de,Object(c["g"])("div",null,[Object(c["g"])(i,{to:{name:"AdminProduct"},class:"p-4 text-lg border-r-2\n          hover:text-yellow-900 hover:bg-gray-50"},{default:Object(c["G"])((function(){return[ue]})),_:1}),Object(c["g"])(i,{to:{name:"AdminOrder"},class:"p-4 text-lg border-r-2\n          hover:text-yellow-900 hover:bg-gray-50"},{default:Object(c["G"])((function(){return[pe]})),_:1})])]),Object(c["g"])("div",null,[Object(c["g"])(s)]),Object(c["g"])("footer",null,[Object(c["g"])("div",be,[ge,me,Object(c["g"])("small",Oe,[Object(c["g"])(i,{to:{name:"Index"}},{default:Object(c["G"])((function(){return[je]})),_:1})]),fe,Object(c["g"])("small",he,[Object(c["g"])("button",{onClick:e[1]||(e[1]=function(){return o.adminLogout&&o.adminLogout.apply(o,arguments)})},"Logout")])])])])}a("ac1f"),a("5319");var xe={inject:["apiInfo"],methods:{checkLogin:function(){var t=this;G.a.post("".concat(this.apiInfo.apiPath,"/api/user/check")).then((function(e){e.data.success?console.log(e.data):(console.log(e.data),t.$router.push({name:"Login"}))})).catch((function(t){console.log(t)}))},adminLogout:function(){var t=this;G.a.post("".concat(this.apiInfo.apiPath,"/logout/")).then((function(e){console.log(e.data),e.data.success&&(document.cookie="OnlineBusTour = ; expires = ".concat(new Date),t.$router.push({name:"login"}))})).catch((function(t){console.log(t.response.data)}))}},created:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)OnlineBusTour\s*=\s*([^;]*).*$)|^.*$/,"$1");G.a.defaults.headers.common.Authorization=t,this.checkLogin()}};xe.render=ve;var ye=xe,Pe={class:"container max-w-4xl lg:max-w-6xl mx-auto p-6 flex justify-center"},we={id:"backend"},_e=Object(c["g"])("h3",{class:"text-center text-xl mb-4"},"Product Management",-1),Me={id:"admin-product",class:""},ke={class:"table"},Ie=Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[Object(c["g"])("th",{class:"pr-2 text-left"},"Name"),Object(c["g"])("th",{class:"pr-2 text-left"},"Description"),Object(c["g"])("th",{class:"pr-2 text-left"},"Image"),Object(c["g"])("th",{class:"pr-2 text-left"},"Original"),Object(c["g"])("th",{class:"pr-2 text-left"},"Price"),Object(c["g"])("th",{class:"pr-2 text-left"},"Active"),Object(c["g"])("th",{class:"pr-2"}),Object(c["g"])("th",{class:"pr-2"})])],-1),Ae={class:"pr-2"},Ue={class:"pr-2"},Ce={class:"pr-2"},Ne={class:"pr-2"},Se={class:"pr-2"},$e={key:0,class:"pr-2"},Ee={key:1,class:"pr-2"},Ve={class:"pr-2"},qe={class:"pr-2"};function Ge(t,e,a,r,n,o){var i=Object(c["x"])("ProductModal"),s=Object(c["x"])("pagination");return Object(c["s"])(),Object(c["d"])("div",Pe,[Object(c["g"])("div",we,[_e,Object(c["g"])("button",{id:"add-product",class:"mb-6 border p-2",type:"button",onClick:e[1]||(e[1]=function(t){return o.showProductModal(!0)})},"Add New"),Object(c["g"])(i,{title:n.tempProduct.title,"onUpdate:title":e[2]||(e[2]=function(t){return n.tempProduct.title=t}),category:n.tempProduct.category,"onUpdate:category":e[3]||(e[3]=function(t){return n.tempProduct.category=t}),origin_price:n.tempProduct.origin_price,"onUpdate:origin_price":e[4]||(e[4]=function(t){return n.tempProduct.origin_price=t}),origin_priceModifiers:{number:!0},price:n.tempProduct.price,"onUpdate:price":e[5]||(e[5]=function(t){return n.tempProduct.price=t}),priceModifiers:{number:!0},unit:n.tempProduct.unit,"onUpdate:unit":e[6]||(e[6]=function(t){return n.tempProduct.unit=t}),description:n.tempProduct.description,"onUpdate:description":e[7]||(e[7]=function(t){return n.tempProduct.description=t}),content:n.tempProduct.content,"onUpdate:content":e[8]||(e[8]=function(t){return n.tempProduct.content=t}),imageUrl:n.tempProduct.imageUrl,"onUpdate:imageUrl":e[9]||(e[9]=function(t){return n.tempProduct.imageUrl=t}),is_enabled:n.tempProduct.is_enabled,"onUpdate:is_enabled":e[10]||(e[10]=function(t){return n.tempProduct.is_enabled=t}),is_enabledModifiers:{number:!0},productModalShow:n.productModalShow,"onUpdate:productModalShow":e[11]||(e[11]=function(t){return n.productModalShow=t}),isNew:n.isNew,"onUpdate:isNew":e[12]||(e[12]=function(t){return n.isNew=t}),errMsg:n.errMsg,onHideProductModal:o.hideProductModal,onAddProduct:o.addProduct,onEditProduct:o.editProduct},null,8,["title","category","origin_price","price","unit","description","content","imageUrl","is_enabled","productModalShow","isNew","errMsg","onHideProductModal","onAddProduct","onEditProduct"]),Object(c["g"])("div",Me,[Object(c["g"])("table",ke,[Ie,Object(c["g"])("tbody",null,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(n.products,(function(t){return Object(c["s"])(),Object(c["d"])("tr",{key:t.id},[Object(c["g"])("td",Ae,Object(c["A"])(t.title),1),Object(c["g"])("td",Ue,Object(c["A"])(t.description),1),Object(c["g"])("td",Ce,[Object(c["g"])("img",{class:"w-20",src:t.imageUrl,alt:""},null,8,["src"])]),Object(c["g"])("td",Ne,Object(c["A"])(n.currency)+Object(c["A"])(t.origin_price),1),Object(c["g"])("td",Se,Object(c["A"])(n.currency)+Object(c["A"])(t.price),1),t.is_enabled?(Object(c["s"])(),Object(c["d"])("td",$e,"on")):(Object(c["s"])(),Object(c["d"])("td",Ee,"off")),Object(c["g"])("td",Ve,[Object(c["g"])("button",{value:"product.id",class:"border p-2",onClick:function(e){return o.getEditProduct(!1,t)}},"Edit",8,["onClick"])]),Object(c["g"])("td",qe,[Object(c["g"])("button",{value:"product.id",class:"border p-2",onClick:function(e){return o.deleteProduct(t.id)}},"Delete",8,["onClick"])])])})),128))])])]),Object(c["g"])(s,{page:n.pagination,onGetProductPage:o.getProductAdmin,onPreviousPage:o.getProductAdmin,onNextPage:o.getProductAdmin},null,8,["page","onGetProductPage","onPreviousPage","onNextPage"])])])}a("159b");var De={class:"border-box"},He=Object(c["g"])("div",{class:"bg-black fixed z-10 inset-0 opacity-30"},null,-1),Le={class:"fixed inset-0 z-20"},Te={class:"flex justify-center items-center h-screen"},Be={class:"bg-white p-10 rounded-xl"},ze={key:0,class:"text-center mb-2 "},Fe={key:1,class:"text-center mb-2 "},Je={class:"flex flex-row"},Ke={class:"mr-2"},Qe={for:"imageUrl",class:"form-label"},Re=Object(c["f"])("圖片地址 "),We={class:"grid grid-cols-2 gap-2 mb-4"},Xe={for:"category"},Ye=Object(c["f"])("分類 "),Ze={for:"title"},ta=Object(c["f"])("標題 "),ea={for:"description"},aa=Object(c["f"])("說明 "),ca={for:"content"},ra=Object(c["f"])("內容 "),na={for:"origin_price"},oa=Object(c["f"])("原價 "),ia={for:"price"},sa=Object(c["f"])("現價 "),la={for:"unit"},da=Object(c["f"])("單位 "),ua={for:"is_enabled"},pa=Object(c["f"])("是否啟用 "),ba=Object(c["g"])("option",{value:"1"},"啟用",-1),ga=Object(c["g"])("option",{value:"0"},"停用",-1),ma={class:"flex flex-row justify-end"};function Oa(t,e,a,r,n,o){return Object(c["s"])(),Object(c["d"])("div",{id:"Modal",class:{hidden:!a.productModalShow}},[Object(c["g"])("div",De,[He,Object(c["g"])("div",Le,[Object(c["g"])("div",Te,[Object(c["g"])("div",Be,[a.isNew?(Object(c["s"])(),Object(c["d"])("h3",ze,"新增產品")):(Object(c["s"])(),Object(c["d"])("h3",Fe,"修改產品內容")),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(a.errMsg,(function(t){return Object(c["s"])(),Object(c["d"])("div",{class:"text-red-500",key:t},Object(c["A"])(t),1)})),128)),Object(c["g"])("div",Je,[Object(c["g"])("div",Ke,[Object(c["g"])("img",{class:"w-auto",src:a.imageUrl,alt:""},null,8,["src"]),Object(c["g"])("label",Qe,[Re,Object(c["g"])("input",{id:"imageUrl",class:"border p-2",name:"imageUrl",type:"url",value:a.imageUrl,onInput:e[1]||(e[1]=function(e){return t.$emit("update:imageUrl",e.target.value)})},null,40,["value"])])]),Object(c["g"])("div",We,[Object(c["g"])("label",Xe,[Ye,Object(c["g"])("input",{id:"category",class:"border p-2",name:"category",type:"text",value:a.category,onInput:e[2]||(e[2]=function(e){return t.$emit("update:category",e.target.value)}),required:""},null,40,["value"])]),Object(c["g"])("label",Ze,[ta,Object(c["g"])("input",{id:"title",class:"border p-2",name:"title",value:a.title,type:"text",onInput:e[3]||(e[3]=function(e){return t.$emit("update:title",e.target.value)}),required:""},null,40,["value"])]),Object(c["g"])("label",ea,[aa,Object(c["g"])("input",{id:"description",class:"border p-2",name:"description",type:"text",value:a.description,onInput:e[4]||(e[4]=function(e){return t.$emit("update:description",e.target.value)}),required:""},null,40,["value"])]),Object(c["g"])("label",ca,[ra,Object(c["g"])("input",{id:"content",class:"border p-2",name:"content",type:"textarea",value:a.content,onInput:e[5]||(e[5]=function(e){return t.$emit("update:content",e.target.value)}),required:""},null,40,["value"])]),Object(c["g"])("label",na,[oa,Object(c["g"])("input",{id:"origin_price",class:"border p-2",name:"origin_price",type:"number",min:"0",value:a.origin_price,onInput:e[6]||(e[6]=function(e){return t.$emit("update:origin_price",e.target.value)}),required:""},null,40,["value"])]),Object(c["g"])("label",ia,[sa,Object(c["g"])("input",{id:"price",class:"border p-2",name:"price",type:"number",min:"0",value:a.price,onInput:e[7]||(e[7]=function(e){return t.$emit("update:price",e.target.value)})},null,40,["value"])]),Object(c["g"])("label",la,[da,Object(c["g"])("input",{id:"unit",class:"border p-2",name:"unit",type:"text",value:a.unit,onInput:e[8]||(e[8]=function(e){return t.$emit("update:unit",e.target.value)})},null,40,["value"])]),Object(c["g"])("label",ua,[pa,Object(c["g"])("select",{id:"is_enabled",class:"border p-1 text-black",name:"is_enabled",value:a.is_enabled,onInput:e[9]||(e[9]=function(e){return t.$emit("update:is_enabled",e.target.value)})},[ba,ga],40,["value"])])])]),Object(c["g"])("div",ma,[Object(c["g"])("button",{class:"border ml-2 p-2",onClick:e[10]||(e[10]=function(){return o.hideProductModal&&o.hideProductModal.apply(o,arguments)})}," 取消 "),a.isNew?(Object(c["s"])(),Object(c["d"])("button",{key:0,class:"border ml-2 p-2",onClick:e[11]||(e[11]=function(){return o.addProduct&&o.addProduct.apply(o,arguments)})}," 新增 ")):(Object(c["s"])(),Object(c["d"])("button",{key:1,class:"border ml-2 p-2",onClick:e[12]||(e[12]=function(){return o.editProduct&&o.editProduct.apply(o,arguments)})}," 修改 "))])])])])])],2)}a("a9e3");var ja={data:function(){return{}},props:{title:String,category:String,origin_price:Number,price:Number,unit:String,description:String,content:String,imageUrl:String,is_enabled:Number,productModalShow:Boolean,isNew:Boolean,errMsg:Array},methods:{hideProductModal:function(){this.$emit("hideProductModal")},addProduct:function(){this.$emit("addProduct")},editProduct:function(){this.$emit("editProduct")}}};ja.render=Oa;var fa=ja,ha={"aria-label":"Page navigation example",class:""},va={class:"pagination flex flex-row"},xa=Object(c["g"])("span",{"aria-hidden":"true"},"«",-1),ya=Object(c["g"])("span",{"aria-hidden":"true"},"»",-1);function Pa(t,e,a,r,n,o){return Object(c["s"])(),Object(c["d"])("nav",ha,[Object(c["g"])("ul",va,[Object(c["g"])("li",{class:["p-2",{disabled:!a.page.has_pre}]},[Object(c["g"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[1]||(e[1]=function(e){return t.$emit("previous-page",a.page.current_page-1)})},[xa])],2),(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(a.page.total_pages,(function(e){return Object(c["s"])(),Object(c["d"])("li",{class:["p-2",{active:e===a.page.current_page}],key:e},[Object(c["g"])("button",{class:"page-link",onClick:function(a){return t.$emit("get-product-page",e)}},Object(c["A"])(e),9,["onClick"])],2)})),128)),Object(c["g"])("li",{class:["p-2",{disabled:!a.page.has_next}]},[Object(c["g"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[2]||(e[2]=function(e){return t.$emit("next-page",a.page.current_page+1)})},[ya])],2)])])}var wa={props:["page"]};wa.render=Pa;var _a=wa,Ma={components:{ProductModal:fa,Pagination:_a},data:function(){return{products:[],currency:"¥",tempProduct:{},errMsg:[],pagination:{},productModalShow:!1,isNew:!1}},inject:["apiInfo"],methods:{getProductAdmin:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.products=[],G.a.get("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/admin/products?page=").concat(e)).then((function(e){console.log(e.data.products),e.data.success&&(t.products=e.data.products,t.pagination=e.data.pagination)})).catch((function(e){console.log(e.response.data),t.error()}))},showProductModal:function(t){this.errMsg=[],this.productModalShow=!this.productModalShow,this.isNew=t},hideProductModal:function(){this.tempProduct={},this.errMsg=[],this.productModalShow=!1},addProduct:function(){var t=this;G.a.post("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/admin/product"),{data:{title:this.tempProduct.title,category:this.tempProduct.category,origin_price:this.tempProduct.origin_price,price:this.tempProduct.price,unit:this.tempProduct.unit,description:this.tempProduct.description,content:this.tempProduct.content,imageUrl:this.tempProduct.imageUrl,is_enabled:this.tempProduct.is_enabled}}).then((function(e){e.data.success?(t.tempProduct={},t.hideProductModal(),t.getProductAdmin()):e.data.message.forEach((function(e){t.errMsg.push(e)}))})).catch((function(t){console.log(t.response.data)}))},getEditProduct:function(t,e){var a=this;this.products.forEach((function(t){t.id===e.id&&(console.log(t),Object.assign(a.tempProduct,t))})),console.log(this.tempProduct),this.showProductModal(t)},editProduct:function(){var t=this;console.log(this.tempProduct.id),G.a.put("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/admin/product/").concat(this.tempProduct.id),{data:{title:this.tempProduct.title,category:this.tempProduct.category,origin_price:this.tempProduct.origin_price,price:this.tempProduct.price,unit:this.tempProduct.unit,description:this.tempProduct.description,content:this.tempProduct.content,imageUrl:this.tempProduct.imageUrl,is_enabled:this.tempProduct.is_enabled}}).then((function(e){e.data.success?(console.log(e),t.hideProductModal(),t.getProductAdmin()):e.data.message.forEach((function(e){t.errMsg.push(e)}))})).catch((function(t){console.log(JSON.stringify(t))}))},deleteProduct:function(t){var e=this;console.log("delete product: ",t),G.a.delete("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/admin/product/").concat(t)).then((function(t){console.log(t.data),t.data.success?e.getProductAdmin():console.log(t.data)})).catch((function(t){console.log(t.response.data)}))}},mounted:function(){this.getProductAdmin()}};Ma.render=Ge;var ka=Ma,Ia={class:"container max-w-4xl lg:max-w-6xl mx-auto p-6 flex justify-center"},Aa={id:"backend-order"},Ua=Object(c["g"])("h3",{class:"text-center text-xl mb-4"},"Order Management",-1),Ca={id:"admin-order",class:""},Na={class:"table"},Sa=Object(c["g"])("thead",null,[Object(c["g"])("tr",null,[Object(c["g"])("th",{class:"pr-2 text-left"},"Create at"),Object(c["g"])("th",{class:"pr-2 text-left"},"Order no."),Object(c["g"])("th",{class:"pr-2 text-left"},"Amount"),Object(c["g"])("th",{class:"pr-2 text-left"},"Status"),Object(c["g"])("th",{class:"pr-2 text-left"},"Paid Date"),Object(c["g"])("th"),Object(c["g"])("th")])],-1),$a={class:"pr-2"},Ea={class:"pr-2"},Va={class:"pr-2"},qa={key:0,class:"pr-2"},Ga={key:1,class:"pr-2"},Da={key:2,class:"pr-2"},Ha={key:3,class:"pr-2"},La={class:"text-center"};function Ta(t,e,a,r,n,o){var i=Object(c["x"])("OrderModal"),s=Object(c["x"])("pagination");return Object(c["s"])(),Object(c["d"])("div",Ia,[Object(c["g"])("div",Aa,[Ua,Object(c["g"])(i,{create_at:n.tempOrder.create_at,"onUpdate:create_at":e[1]||(e[1]=function(t){return n.tempOrder.create_at=t}),is_paid:n.tempOrder.is_paid,"onUpdate:is_paid":e[2]||(e[2]=function(t){return n.tempOrder.is_paid=t}),message:n.tempOrder.message,"onUpdate:message":e[3]||(e[3]=function(t){return n.tempOrder.message=t}),payment_method:n.tempOrder.payment_method,"onUpdate:payment_method":e[4]||(e[4]=function(t){return n.tempOrder.payment_method=t}),total:n.tempOrder.total,"onUpdate:total":e[5]||(e[5]=function(t){return n.tempOrder.total=t}),totalModifiers:{number:!0},orderModalShow:n.orderModalShow,"onUpdate:orderModalShow":e[6]||(e[6]=function(t){return n.orderModalShow=t}),errMsg:n.errMsg,onHideOrderModal:o.hideOrderModal,onEditOrder:o.editOrder},null,8,["create_at","is_paid","message","payment_method","total","orderModalShow","errMsg","onHideOrderModal","onEditOrder"]),Object(c["g"])("div",Ca,[Object(c["g"])("table",Na,[Sa,Object(c["g"])("tbody",null,[(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(n.orders,(function(t){return Object(c["s"])(),Object(c["d"])("tr",{key:t.id},[Object(c["g"])("td",$a,Object(c["A"])(t.create_at),1),Object(c["g"])("td",Ea,Object(c["A"])(t.num),1),Object(c["g"])("td",Va,Object(c["A"])(t.total),1),t.is_paid?(Object(c["s"])(),Object(c["d"])("td",qa,"Paid")):(Object(c["s"])(),Object(c["d"])("td",Ga,"Not Settle")),t.paid_date?(Object(c["s"])(),Object(c["d"])("td",Da,Object(c["A"])(new Date(t.paid_date)),1)):(Object(c["s"])(),Object(c["d"])("td",Ha)),Object(c["g"])("td",null,[Object(c["g"])("button",{value:"order.id",class:"border",onClick:function(e){return o.getEditOrder(t)}},"修改",8,["onClick"])]),Object(c["g"])("td",La,[Object(c["g"])("button",{value:"order.id",class:"border",onClick:function(e){return o.deleteOrder(t.id)}},"刪除",8,["onClick"])])])})),128))])])]),Object(c["g"])(s,{page:n.pagination,onGetProductPage:o.getOrderAdmin,onPreviousPage:o.getOrderAdmin,onNextPage:o.getOrderAdmin},null,8,["page","onGetProductPage","onPreviousPage","onNextPage"])])])}var Ba={class:"border-box"},za=Object(c["g"])("div",{class:"bg-black fixed z-10 inset-0 opacity-30"},null,-1),Fa={class:"fixed inset-0 z-20"},Ja={class:"flex justify-center items-center h-screen"},Ka={class:"bg-white p-10 rounded-xl"},Qa=Object(c["g"])("h3",{class:"text-center mb-2 "},"Edit Order",-1),Ra={class:"grid grid-cols-2 gap-2 mb-4"},Wa={for:"is_paid"},Xa=Object(c["f"])("Paid "),Ya=Object(c["g"])("option",{value:"true"},"Paid",-1),Za=Object(c["g"])("option",{value:"false"},"Not Settled",-1),tc={class:"flex flex-row justify-end"};function ec(t,e,a,r,n,o){return Object(c["s"])(),Object(c["d"])("div",{id:"orderModal",class:{hidden:!a.orderModalShow}},[Object(c["g"])("div",Ba,[za,Object(c["g"])("div",Fa,[Object(c["g"])("div",Ja,[Object(c["g"])("div",Ka,[Qa,(Object(c["s"])(!0),Object(c["d"])(c["a"],null,Object(c["w"])(a.errMsg,(function(t){return Object(c["s"])(),Object(c["d"])("div",{class:"text-red-500",key:t},Object(c["A"])(t),1)})),128)),Object(c["g"])("div",Ra,[Object(c["g"])("div",null," Create at "+Object(c["A"])(a.create_at),1),Object(c["g"])("div",null," Total "+Object(c["A"])(a.total),1),Object(c["g"])("div",null," Payment method "+Object(c["A"])(a.payment_method),1),Object(c["g"])("label",Wa,[Xa,Object(c["g"])("select",{type:"checkbox",id:"is_paid",class:"border p-1 text-black",name:"is_paid",value:a.is_paid,onInput:e[1]||(e[1]=function(e){return t.$emit("update:is_paid",e.target.value)})},[Ya,Za],40,["value"])])]),Object(c["g"])("div",tc,[Object(c["g"])("button",{class:"border ml-2 p-2",onClick:e[2]||(e[2]=function(){return o.hideOrderModal&&o.hideOrderModal.apply(o,arguments)})}," 取消 "),Object(c["g"])("button",{class:"border ml-2 p-2",onClick:e[3]||(e[3]=function(){return o.editOrder&&o.editOrder.apply(o,arguments)})}," 修改 ")])])])])])],2)}var ac={data:function(){return{}},props:{create_at:Number,is_paid:Boolean,message:String,payment_method:String,total:Number,orderModalShow:Boolean,errMsg:Array},methods:{hideOrderModal:function(){this.$emit("hideOrderModal")},editOrder:function(){this.$emit("editOrder")}}};ac.render=ec;var cc=ac,rc={components:{OrderModal:cc,Pagination:_a},data:function(){return{orders:[],tempOrder:{},pagination:{},errMsg:[],orderModalShow:!1}},inject:["apiInfo"],methods:{getOrderAdmin:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.orders=[],G.a.get("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/admin/orders?page=").concat(e)).then((function(e){e.data.success?(console.log(e.data),t.orders=e.data.orders,t.pagination=e.data.pagination):console.log(e.data)})).catch((function(t){console.log(t)}))},showOrderModal:function(){this.errMsg=[],this.orderModalShow=!this.orderModalShow},hideOrderModal:function(){this.tempOrder={},this.errMsg=[],this.orderModalShow=!1},getEditOrder:function(t){var e=this;this.orders.forEach((function(a){a.id===t.id&&(console.log(a),Object.assign(e.tempOrder,a))})),console.log(this.tempOrder),this.showOrderModal()},editOrder:function(){var t=this;console.log(this.tempOrder.id),G.a.put("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/admin/order/").concat(this.tempOrder.id),{data:{create_at:this.tempOrder.create_at,is_paid:this.tempOrder.is_paid,message:this.tempOrder.message,payment_method:this.tempOrder.payment_method,products:this.tempOrder.products,total:this.tempOrder.total,user:this.tempOrder.user}}).then((function(e){e.data.success?(console.log(e),t.hideProductModal(),t.getProductAdmin()):e.data.message.forEach((function(e){t.errMsg.push(e)}))})).catch((function(t){console.log(JSON.stringify(t))}))},deleteOrder:function(t){var e=this;console.log("delete order: ",t),G.a.delete("".concat(this.apiInfo.apiPath,"/api/").concat(this.apiInfo.apiName,"/admin/order/").concat(t)).then((function(t){console.log(t.data),t.data.success?(e.getOrderAdmin(),alert("Order has been deleted")):console.log(t.data)})).catch((function(t){console.log(t.response.data)}))}},mounted:function(){this.getOrderAdmin()}};rc.render=Ta;var nc=rc,oc=Object(c["g"])("h1",null,"頁面不存在",-1),ic=Object(c["f"])(" 回首頁");function sc(t,e){var a=Object(c["x"])("router-link");return Object(c["s"])(),Object(c["d"])("div",null,[oc,Object(c["g"])(a,{to:{name:"Home"},class:"p-4 text-lg hover:text-yellow-900 hover:bg-gray-50"},{default:Object(c["G"])((function(){return[ic]})),_:1})])}const lc={};lc.render=sc;var dc=lc,uc=[{path:"/",name:"Home",component:M,children:[{path:"",name:"Index",component:U},{path:"products",name:"Products",component:H},{path:"product/:id",name:"Product",component:tt,props:function(t){return{id:t.params.id}}},{path:"cart",name:"Cart",component:mt},{path:"deliveryinfo",name:"DeliveryInfo",component:St},{path:"order/:id",name:"Order",component:qt,props:function(t){return{id:t.params.id}}},{path:"OrderComplete",name:"OrderComplete",component:Bt},{path:"blog",name:"Blog",component:Qt},{path:"login",name:"Login",component:ie}]},{path:"/admin",name:"Admin",component:ye,children:[{path:"/admin/product",name:"AdminProduct",component:ka},{path:"/admin/order",name:"AdminOrder",component:nc}]},{path:"/:pathMatch(.*)",name:"NotFound",component:dc}],pc=Object(u["a"])({history:Object(u["b"])(),routes:uc}),bc=pc;a("ba8c");Object(r["e"])("required",n["c"]),Object(r["e"])("email",n["a"]),Object(r["e"])("min",n["b"]),Object(r["d"])({generateMessage:Object(o["a"])({zh_TW:i}),validateOnInput:!0}),Object(o["b"])("zh_TW");var gc=Object(c["c"])(d).use(bc);gc.component("Form",r["c"]),gc.component("Field",r["b"]),gc.component("ErrorMessage",r["a"]),gc.mount("#app")},ba8c:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.69ec9c53.png"}});
//# sourceMappingURL=app.124ec785.js.map